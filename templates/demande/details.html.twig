{% extends 'base.html.twig' %}

{% block main %}

	<!-- Titre -->
	<!-- mt-4=1rem, mb-9=2.25rem, px-4=1rem -->
		<div class="container" style="margin-top:3rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;"> <div
			class="d-flex justify-content-between align-items-center">
			<!-- text-3xl=1.875rem, font-semibold -->
			<h2 class="fw-semibold text-black" style="font-size:1.875rem;">Détails de la demande</h2>
		</div>
	</div>


	<!-- Information -->

	<div class="container" style="margin-top:2rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div
			class="d-flex justify-content-between align-items-center">
			<!-- text-3xl=1.2rem, font-semibold -->
			<h2 class="fw-semibold text-primary" style="font-size:1.3rem;">Informations</h2>
		</div>
	</div>

	<div class="container" style="margin-top:-1rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div class="d-flex align-items-center justify-content-start flex-wrap" style="gap: 24.9rem;">
			<div class="d-flex align-items-center">
				<h2 class="fw-semibold text-black" style="font-size:1rem; margin: 0;">Client :</h2>
				<p class="fw-normal text-black" style="margin: 0; margin-left: 0.5rem;">
					{{ demande.client.surname }}
				</p>
			</div>
			<div class="d-flex align-items-center">
				<h2 class="fw-semibold text-black" style="font-size:1rem; margin: 0;">Article :</h2>
				<p class="fw-normal text-black" style="margin: 0; margin-left: 0.5rem;">
					{{ demande.articles.libelle }}
				</p>
			</div>
		</div>
	</div>

	<div class="container" style="margin-top:-1rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div class="d-flex align-items-center justify-content-start flex-wrap" style="gap: 20rem;">
			<div class="d-flex align-items-center">
				<h2 class="fw-semibold text-black" style="font-size:1rem; margin: 0;">Quantité demandée :</h2>
				<p class="fw-normal text-black" style="margin: 0; margin-left: 0.5rem;">
					{{ demande.qte }}
				</p>
			</div>
			<div class="d-flex align-items-center">
				<h2 class="fw-semibold text-black" style="font-size:1rem; margin: 0;">Montant :</h2>
				<p class="fw-normal text-black" style="margin: 0; margin-left: 0.5rem;">
					{{ demande.montant }}
				</p>
			</div>
		</div>
	</div>

	<div class="container" style="margin-top:-1rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div class="d-flex align-items-center justify-content-start flex-wrap" style="gap: 20rem;">
			<div class="d-flex align-items-center">
				<h2 class="fw-semibold text-black" style="font-size:1rem; margin: 0;">Stock actuel :</h2>
				<p class="fw-normal text-black" style="margin: 0; margin-left: 0.5rem;">
					{{ demande.articles.qteStock }}
				</p>
			</div>
		</div>
	</div>

	<!-- Affichage des messages d'alerte -->
	<div class="container d-flex justify-content-center align-items-center" style="margin-top:2rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div class="d-flex justify-content-between align-items-center">
			{% for type, messages in app.flashes %}
				<div class="alert alert-{{ type }}">
					{% for message in messages %}
						{{ message }}
					{% endfor %}
				</div>
			{% endfor %}
		</div>
	</div>


{% if is_granted('ROLE_BOUTIQUIER') %}

	<div class="container" style="margin-top:-1rem; margin-bottom:2.25rem; padding-left:1rem; padding-right:1rem;">
		<div class="d-flex align-items-center justify-content-start flex-wrap" style="gap: 20rem;">
			<div class="d-flex align-items-center">
				<a href="{{ path('demande.accepter', { id: demande.id }) }}" class="btn btn-success">Accepter</a>
				<a href="{{ path('demande.refuser', { id: demande.id }) }}" class="btn btn-danger ms-3">Refuser</a>
			</div>
		</div>
	</div>

{% endif %}


{% endblock %}
